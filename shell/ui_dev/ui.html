<!DOCTYPE html>
<html>
    <head>
        <title>EasyStradiag 1.0</title>

        <link rel="stylesheet" href="./lib/bootstrap/css/bootstrap.css">
        <link rel="stylesheet" href="./common.css">
        <link rel="stylesheet" href="./ui.css"/>
        <link rel="stylesheet" href="./custom_bootstrap.css">

        <script src="./lib/jquery.slim.min.js"></script>
        <script src="./lib/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="./lib/bootstrap/js/bootstrap.min.js"></script>

    </head>
    <body>
        <div id="page">
            <div id="mask" hidden></div>
            <div id="menu-bar">
                <img id="logo" src="../logos/text_logo.png" οndragstart="return false;"></img>
                <img id="setting" src="../icons/gear.svg"></img>
                <img id="menu" src="../icons/list.svg"></img>
            </div>
            <div id="panels">
                <div>
                    <div id="info-panel" class="panel">
                        <div>
                            <div class="header">
                                基本信息
                                <button class="btn btn-mine dropdown-toggle " id="info-panel-menu" data-toggle="dropdown" aria-haspopup="false" aria-expanded="false">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16"><path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/></svg>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="info-panel-menu">
                                    <a class="dropdown-item" >新建</a>
                                    <a class="dropdown-item" >修改</a>
                                </div>
                            </div>
                            <div class="body">
                                
                                <!-- <div class="item">
                                    <div class="title">姓名</div>
                                    <div class="content">王帆</div>
                                </div>
                                <div class="item">
                                    <div class="title">性别</div>
                                    <div class="content">男</div>
                                </div>
                                <div class="item">
                                    <div class="title">年龄</div>
                                    <div class="content">21</div>
                                </div>
                                <div class="item">
                                    <div class="title">编号</div>
                                    <div class="content">2021081194356</div>
                                </div>
                                <div class="item">
                                    <div class="title">时间</div>
                                    <div class="content">2021/08/11 15：00</div>
                                </div> -->

                                <div class="item">
                                    <div class="title">姓名</div>
                                    <div class="content">-</div>
                                </div>
                                <div class="item">
                                    <div class="title">性别</div>
                                    <div class="content">-</div>
                                </div>
                                <div class="item">
                                    <div class="title">年龄</div>
                                    <div class="content">-</div>
                                </div>
                                <div class="item">
                                    <div class="title">编号</div>
                                    <div class="content">-</div>
                                </div>
                                <div class="item">
                                    <div class="title">时间</div>
                                    <div class="content">-</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="control-panel" class="tab-panel">
                    <div>
                        <div class="tabbar">
                            <div id="firstpos-test-tab" class="tab active" class="active">主视眼检测</div>
                            <div id="round-test-tab" class="tab">周向快速检测</div>
                            <div id="custom-test-tab" class="tab">自定义点位检测</div>
                        </div>

                        <div id="firstpos-test-panel" class="panel" hidden>
                            <div>
                                <div class="header">
                                    测试参数
                                    <button class="btn btn-mine dropdown-toggle " id="firstpos-test-menu" data-toggle="dropdown" aria-haspopup="false" aria-expanded="false">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16"><path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/></svg>
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="firstpos-test-menu">
                                        <a class="dropdown-item" >修改</a>
                                    </div>
                                </div>
                                <div class="body">
                                    <div class="item">
                                        <div class="title">测试距离</div>
                                        <div class="content">未设定</div>
                                    </div>
                                    <div class="item">
                                        <div class="title">物体直径</div>
                                        <div class="content">未设定</div>
                                    </div>
                                </div>
                                <div class="header">检测结果</div>
                                <!-- <div class="body">
                                    <div class="item">
                                        <div class="title">主视眼</div>
                                        <div class="content">左眼</div>
                                    </div>
                                    <div class="item">
                                        <div class="title">非主视眼斜视度数</div>
                                        <div class="content">5°</div>
                                    </div>
                                    <div class="item">
                                        <div class="title">非主视眼斜视方向</div>
                                        <div class="content">1°</div>
                                    </div>
                                    <div class="item">
                                        <div class="title">非主视眼垂直斜视度数</div>
                                        <div class="cotent">0.2°</div>
                                    </div>
                                    <div class="item">
                                        <div class="title">非主视眼水平斜视度数</div>
                                        <div class="content">4.9°</div>
                                    </div>
                                </div> -->

                                <div class="body">
                                    <div class="item">
                                        <div class="title">主视眼</div>
                                        <div class="content">-</div>
                                    </div>
                                    <div class="item">
                                        <div class="title">非主视眼斜视度数</div>
                                        <div class="content">-</div>
                                    </div>
                                    <div class="item">
                                        <div class="title">非主视眼斜视方向</div>
                                        <div class="content">-</div>
                                    </div>
                                    <div class="item">
                                        <div class="title">非主视眼垂直斜视度数</div>
                                        <div class="cotent">-</div>
                                    </div>
                                    <div class="item">
                                        <div class="title">非主视眼水平斜视度数</div>
                                        <div class="content">-</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="round-test-panel" class="panel">
                            <div>
                                <div class="header">
                                    测试参数
                                    <button class="btn btn-mine dropdown-toggle " id="firstpos-test-menu" data-toggle="dropdown" aria-haspopup="false" aria-expanded="false">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16"><path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/></svg>
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="firstpos-test-menu">
                                        <a class="dropdown-item" >修改</a>
                                    </div>
                                </div>
                                <div class="body">
                                    <div class="item">
                                        <div class="title">测试距离</div>
                                        <div class="content">6.00 m</div>
                                    </div>
                                    <div class="item">
                                        <div class="title">物体直径</div>
                                        <div class="content">0.10 m</div>
                                    </div>
                                    <div class="item">
                                        <div class="title">物体移动速度</div>
                                        <div class="content">0.20 rad/s</div>
                                    </div>
                                    <div class="item">
                                        <div class="title">基准眼</div>
                                        <div class="content">左眼</div>
                                    </div>
                                    <div class="item">
                                        <div class="title">测试眼</div>
                                        <div class="content">右眼</div>
                                    </div>
                                </div>
                                <div class="header">检测结果</div>
                                <div class="body">
                                    <div id="chart"></div>
                                </div>
                            </div>
                        </div>

                        <div id="custom-test-panel" class="panel" hidden>
                            <div>
                                <div class="header">
                                    测试参数
                                    <img src="../icons/dash.svg">
                                    <img src="../icons/plus.svg">
                                </div>
                                <div class="body">
                                    <table id="custom-test-set-table">
                                        <tr>
                                            <th>序号</th>
                                            <th>距离</th>
                                            <th>方位角</th>
                                            <th>偏斜角</th>
                                            <th>目标眼</th>
                                        </tr>
                                        <tr>
                                            <td>1</td>
                                            <td>6.00m</td>
                                            <td>0.0°</td>
                                            <td>10.0°</td>
                                            <td>左</td>
                                        </tr>
                                        <tr>
                                            <td>2</td>
                                            <td>6.00m</td>
                                            <td>45.0°</td>
                                            <td>10.0°</td>
                                            <td>左</td>
                                        </tr>
                                        <tr>
                                            <td>3</td>
                                            <td>6.00m</td>
                                            <td>135.0°</td>
                                            <td>10.0°</td>
                                            <td>左</td>
                                        </tr>
                                        <tr>
                                            <td>4</td>
                                            <td>6.00m</td>
                                            <td>275.0°</td>
                                            <td>10.0°</td>
                                            <td>左</td>
                                        </tr>
                                       
                                    </table>
                                </div>
                                <div class="header">检测结果</div>
                                <div class="body">
                                    <table id="custom-test-res-table">
                                        <tr>
                                            <th>序号</th>
                                            <th>综合度数</th>
                                            <th>水平度数</th>
                                            <th>垂直度数</th>
                                            <th>斜视方向</th>
                                        </tr>
                                        <tr>
                                            <td>1</td>
                                            <td>5.0°</td>
                                            <td>5.0°</td>
                                            <td>0.0°</td>
                                            <td>0.0°</td>
                                        </tr>
                                        <tr>
                                            <td>2</td>
                                            <td>4.0°</td>
                                            <td>3.0°</td>
                                            <td>1.3°</td>
                                            <td>33.1°</td>
                                        </tr>
                                        <tr>
                                            <td>3</td>
                                            <td>3.8°</td>
                                            <td>2.9°</td>
                                            <td>1.1°</td>
                                            <td>23.1°</td>
                                        </tr>
                                        <tr>
                                            <td>4</td>
                                            <td>4.8°</td>
                                            <td>3.9°</td>
                                            <td>1.1°</td>
                                            <td>15.3°</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>  
                    </div>
                    
                    <div id="video-panel" class="panel">
                        <div>
                            <div class="header">
                                实时图像
                                <button id="vr-control-bnt" class="btn btn-outline-mine">启动VR</button>
                            </div>
                            <div class="body">
                                <div class="video">VR左屏幕图像</div>
                                <div class="video">VR右屏幕图像</div>
                                <div class="video">右眼图像</div>
                                <div class="video">左眼图像</div>
                            </div>
                        </div>
                        
                    </div>

                    <div id="data-panel" class="panel">
                        <div>
                            <div class="header">实时数据</div>
                            <div class="body">
                                <!-- <div class="item">
                                    <div class="title">左眼视线方向向量</div>
                                    <div class="content" id="leftgaze-vec">(0.32, 0.33, 0.45)</div>
                                </div>
                                <div class="item">
                                    <div class="title">右眼视线方向向量</div>
                                    <div class="content" id="rightgaze-vec">(0.32, 0.33, 0.45)</div>
                                </div>
                                <div class="item">
                                    <div class="title">目标物体方位角</div>
                                    <div class="content" id="target-pos-ang">45.2°</div>
                                </div>
                                <div class="item">
                                    <div class="title">目标物体偏斜角</div>
                                    <div class="content" id="target-devia-ang">10.0°</div>
                                </div>
                                <div class="item">
                                    <div class="title">目标物体距离</div>
                                    <div class="content" id="target-distance">6.00m</div>
                                </div>
                                <div id="focus-status">
                                    <div class="title">左眼注视状态</div><div id="left-focus-status" class="active"></div>
                                    <div class="title">右眼注视状态</div><div id="right-focus-status"></div>
                                </div> -->

                                <div class="item">
                                    <div class="title">左眼视线方向向量</div>
                                    <div class="content" id="leftgaze-vec">-</div>
                                </div>
                                <div class="item">
                                    <div class="title">右眼视线方向向量</div>
                                    <div class="content" id="rightgaze-vec">-</div>
                                </div>
                                <div class="item">
                                    <div class="title">目标物体方位角</div>
                                    <div class="content" id="target-pos-ang">-</div>
                                </div>
                                <div class="item">
                                    <div class="title">目标物体偏斜角</div>
                                    <div class="content" id="target-devia-ang">-</div>
                                </div>
                                <div class="item">
                                    <div class="title">目标物体距离</div>
                                    <div class="content" id="target-distance">-</div>
                                </div>
                                <div id="focus-status">
                                    <div class="title">左眼注视状态</div><div id="left-focus-status"></div>
                                    <div class="title">右眼注视状态</div><div id="right-focus-status"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="console-panel" class="panel">
                        <div>
                            <div class="header">系统信息</div>
                            <div class="body" id="console">
                                <div>
                                    <div class="console-message">[19:01:03] 正在初始化...</div>
                                    <div class="console-message">[19:01:10] 工作目录:C:\Users\eleonw\Documents\EasyStradiag working directory</div>
                                    <div class="console-message">[19:01:10] 初始化完成</div>
                                    <!-- <div class="console-message">[19:01:05] 初始化完成</div>
                                    <div class="console-message">[19:02:21] 开始主视眼检测</div>
                                    <div class="console-message">[19:02:22] 主视眼检测...</div>
                                    <div class="console-message">[19:02:29] 主视眼检测完成</div> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="status-bar">
                <div id="status">Running...</div>
                <img src="../icons/bell-fill.svg"/>
            </div>
            
        </div>
        
    </body>

    <script src="./lib/plotly.min.js"></script>
    <script src="./ui.js"></script>
    <script src="./electron.js"></script>
    
</html>